{"issuer":null,"serviceName":"pn-azae-aim-dev","traceId":"40efc3ab-34a6-4905-a6fb-0b7d8449a42c","traceEntries":{"inbound":[{"source":"api-inspector","timestamp":"2025-01-21T04:32:36.1695111Z","elapsed":"00:00:00.0056032","data":{"request":{"scheme":{"received":"https","original":"https"},"method":"GET","url":"https://apig.dev.pacificnational.com.au/avetta/v1/accounts","headers":[{"name":"X-FORWARDED-PROTO","value":"https"},{"name":"X-FORWARDED-PORT","value":"443"},{"name":"X-Forwarded-For","value":"10.221.23.83:52407"},{"name":"X-Original-URL","value":"/avetta/v1/accounts"},{"name":"X-AppGW-Trace-Id","value":"f9a55d2fdca92b7020ddaa88d37c8886"},{"name":"X-ORIGINAL-HOST","value":"apig.dev.pacificnational.com.au"},{"name":"x-api-key","value":"c0af7c32a9da4970a39ef2a927c6d2be"},{"name":"Postman-Token","value":"f3830712-d8ed-4dde-9a7f-34d94a244ec0"},{"name":"Connection","value":"keep-alive"},{"name":"Accept","value":"*/*"},{"name":"Accept-Encoding","value":"gzip,deflate,br"},{"name":"Authorization","value":"Basic YXVyaXpvbi13YXlzaWRlLXVzZXItdGVzdHVzZXI6dGVzdHVzZXIxMjM="},{"name":"Host","value":"apig.dev.pacificnational.com.au"},{"name":"User-Agent","value":"PostmanRuntime/7.43.0"}]}}},{"source":"api-inspector","timestamp":"2025-01-21T04:32:36.1695111Z","elapsed":"00:00:00.0091851","data":{"configuration":{"api":{"from":"/avetta","to":{"scheme":"https","host":"lrg-worker-au.avetta.com","port":443,"path":"/api/v1","queryString":"","query":{},"isDefaultPort":true},"version":"v1","revision":"1"},"operation":{"method":"GET","uriTemplate":"/accounts"},"user":{"id":"1","groups":["Administrators","Developers"]},"product":{"id":"External"}}}},{"source":"cors","timestamp":"2025-01-21T04:32:36.1695111Z","elapsed":"00:00:00.0096539","data":"Origin header was missing or empty and the request was classified as not cross-domain. CORS policy was not applied."},{"source":"cors","timestamp":"2025-01-21T04:32:36.1695111Z","elapsed":"00:00:00.0096570","data":"Origin header was missing or empty and the request was classified as not cross-domain. CORS policy was not applied."},{"source":"choose","timestamp":"2025-01-21T04:32:36.1695111Z","elapsed":"00:00:00.0096807","data":{"message":"Expression was successfully evaluated.","expression":"(context?.Product?.Id != null) && context?.Product?.Id == \"telemetry\"","value":false}},{"source":"rate-limit-by-key","timestamp":"2025-01-21T04:32:36.1695111Z","elapsed":"00:00:00.0096998","data":{"message":"Expression was successfully evaluated.","expression":"context?.Subscription?.Id+'_'+context?.Api?.Id","value":"TMS-External-Sub_ext-avetta-worker-api-v1"}},{"source":"rate-limit-by-key","timestamp":"2025-01-21T04:32:36.1695111Z","elapsed":"00:00:00.0097442","data":{"message":"RateLimit counter by key 7125900494593461952 is incremented by 1 to 1"}},{"source":"choose","timestamp":"2025-01-21T04:32:36.1695111Z","elapsed":"00:00:00.0097557","data":{"message":"Expression was successfully evaluated.","expression":"(context.Request.Body == null) || context.Request.Body.As<byte[]>(preserveContent: true).Length < 41943040","value":true}},{"source":"set-variable","timestamp":"2025-01-21T04:32:36.1695111Z","elapsed":"00:00:00.0097674","data":{"message":"Expression was successfully evaluated.","expression":"context.Request.Headers.GetValueOrDefault(\"x-correlation-id\", Guid.NewGuid().ToString())","value":"bc1be1cb-5eb2-4733-a938-bb7f0464d23f"}},{"source":"set-variable","timestamp":"2025-01-21T04:32:36.1695111Z","elapsed":"00:00:00.0126259","data":{"message":"Context variable was successfully set.","name":"correlation-id","value":"bc1be1cb-5eb2-4733-a938-bb7f0464d23f"}},{"source":"set-header","timestamp":"2025-01-21T04:32:36.1695111Z","elapsed":"00:00:00.0126564","data":{"message":"Expression was successfully evaluated.","expression":"(string)context.Variables[\"correlation-id\"]","value":"bc1be1cb-5eb2-4733-a938-bb7f0464d23f"}},{"source":"set-header","timestamp":"2025-01-21T04:32:36.1695111Z","elapsed":"00:00:00.0126755","data":{"message":"Specified value was assigned to the header (see below).","header":{"name":"x-correlation-id","value":"bc1be1cb-5eb2-4733-a938-bb7f0464d23f"}}},{"source":"trace","timestamp":"2025-01-21T04:32:36.1695111Z","elapsed":"00:00:00.0127086","data":{"message":"Expression was successfully evaluated.","expression":"(string)context.Variables[\"correlation-id\"]","value":"bc1be1cb-5eb2-4733-a938-bb7f0464d23f"}},{"source":"trace","timestamp":"2025-01-21T04:32:36.1695111Z","elapsed":"00:00:00.0127134","data":{"message":"Expression was successfully evaluated.","expression":"String.Format(\"{0} | {1}\", context.Api.Name, context.Operation.Name)","value":"ext-avetta-worker-api | GetAccounts"}},{"source":"Global APIM Policy","timestamp":"2025-01-21T04:32:36.1695111Z","elapsed":"00:00:00.0127151","data":"ext-avetta-worker-api | GetAccounts"},{"source":"set-header","timestamp":"2025-01-21T04:32:36.1695111Z","elapsed":"00:00:00.0127205","data":"Header `x-api-key` was removed."},{"source":"set-header","timestamp":"2025-01-21T04:32:36.1695111Z","elapsed":"00:00:00.0127345","data":{"message":"Expression was successfully evaluated.","expression":"\"apikey \" + \"D2F0CAEABF7D005D6712252F1028C221\"","value":"apikey D2F0CAEABF7D005D6712252F1028C221"}},{"source":"set-header","timestamp":"2025-01-21T04:32:36.1695111Z","elapsed":"00:00:00.0127382","data":{"message":"Specified value was assigned to the header (see below).","header":{"name":"Authorization","value":"apikey D2F0CAEABF7D005D6712252F1028C221"}}},{"source":"set-backend-service","timestamp":"2025-01-21T04:32:36.1695111Z","elapsed":"00:00:00.0133236","data":{"message":"Backend service URL was changed.","oldBackendServiceUrl":"https://lrg-worker-au.avetta.com/api/v1","newBackendServiceUrl":"https://lrg-worker-au.avetta.com/api/v1/accounts","request":{"url":"https://lrg-worker-au.avetta.com/api/v1/accounts/accounts"}}},{"source":"set-header","timestamp":"2025-01-21T04:32:36.1695111Z","elapsed":"00:00:00.0133384","data":{"message":"Specified value was assigned to the header (see below).","header":{"name":"Content-Type","value":"application/json"}}}],"backend":[{"source":"forward-request","timestamp":"2025-01-21T04:32:36.1695111Z","elapsed":"00:00:00.0136007","data":{"message":"Request is being forwarded to the backend service. Timeout set to 300 seconds","request":{"method":"GET","url":"https://lrg-worker-au.avetta.com/api/v1/accounts/accounts","headers":[{"name":"Host","value":"lrg-worker-au.avetta.com"},{"name":"X-FORWARDED-PROTO","value":"https"},{"name":"X-FORWARDED-PORT","value":"443"},{"name":"X-Forwarded-For","value":"10.221.23.83:52407,10.245.4.37"},{"name":"X-Original-URL","value":"/avetta/v1/accounts"},{"name":"X-AppGW-Trace-Id","value":"f9a55d2fdca92b7020ddaa88d37c8886"},{"name":"X-ORIGINAL-HOST","value":"apig.dev.pacificnational.com.au"},{"name":"Content-Type","value":"application/json"},{"name":"x-correlation-id","value":"bc1be1cb-5eb2-4733-a938-bb7f0464d23f"},{"name":"Postman-Token","value":"f3830712-d8ed-4dde-9a7f-34d94a244ec0"},{"name":"Accept","value":"*/*"},{"name":"Accept-Encoding","value":"gzip,deflate,br"},{"name":"Authorization","value":"apikey D2F0CAEABF7D005D6712252F1028C221"},{"name":"User-Agent","value":"PostmanRuntime/7.43.0"},{"name":"traceparent","value":"00-90a2f97c554b7b99ad187b70542e75ba-9a5cf160f24aa5ef-01"},{"name":"Request-Id","value":"|90a2f97c554b7b99ad187b70542e75ba.9a5cf160f24aa5ef."},{"name":"Request-Context","value":"appId=cid-v1:47277967-42fc-4e3b-ad0f-4fdda1436f90"}]}}},{"source":"forward-request","timestamp":"2025-01-21T04:32:36.2320156Z","elapsed":"00:00:00.0706231","data":{"response":{"status":{"code":403,"reason":"Forbidden"},"headers":[{"name":"Transfer-Encoding","value":"chunked"},{"name":"Connection","value":"keep-alive"},{"name":"X-Frame-Options","value":"SAMEORIGIN"},{"name":"Referrer-Policy","value":"same-origin"},{"name":"Vary","value":"Accept-Encoding"},{"name":"Strict-Transport-Security","value":"max-age=31536000; includeSubDomains; preload"},{"name":"X-Content-Type-Options","value":"nosniff"},{"name":"CF-RAY","value":"905494d2682f79ce-SYD"},{"name":"Content-Encoding","value":"gzip"},{"name":"Cache-Control","value":"max-age=15"},{"name":"Content-Type","value":"text/html; charset=UTF-8"},{"name":"Date","value":"Tue, 21 Jan 2025 04:32:36 GMT"},{"name":"Expires","value":"Tue, 21 Jan 2025 04:32:51 GMT"},{"name":"Set-Cookie","value":"__cf_bm=RnMhN2um9_9iXIlhxTSV.t6cAGlYflnY0bhg6i2WSEE-1737433956-1.0.1.1-ua1D9hXnehbpm.OZ5GLaba2Mq8NpVMG60oIrZ6OCGuObqlbl7Wdz6PiJ837bG8WBRopDKeeC_CbJp_VK9spEug; path=/; expires=Tue, 21-Jan-25 05:02:36 GMT; domain=.avetta.com; HttpOnly; Secure; SameSite=None"},{"name":"Server","value":"cloudflare"}]}}},{"source":"decompressor","timestamp":"2025-01-21T04:32:36.2320156Z","elapsed":"00:00:00.0710707","data":"Content-Encoding header with value `gzip` detected in message headers. Content re-compression may require to correctly apply content modification policies."},{"source":"decompressor","timestamp":"2025-01-21T04:32:36.2320156Z","elapsed":"00:00:00.0719695","data":"Applying content decompression."}],"outbound":[{"source":"set-header","timestamp":"2025-01-21T04:32:36.2320156Z","elapsed":"00:00:00.0721045","data":{"message":"Expression was successfully evaluated.","expression":"context.Variables.GetValueOrDefault<string>(\"correlation-id\")","value":"bc1be1cb-5eb2-4733-a938-bb7f0464d23f"}},{"source":"set-header","timestamp":"2025-01-21T04:32:36.2320156Z","elapsed":"00:00:00.0721164","data":{"message":"Specified value was assigned to the header (see below).","header":{"name":"x-correlation-id","value":"bc1be1cb-5eb2-4733-a938-bb7f0464d23f"}}},{"source":"include-fragment","timestamp":"2025-01-21T04:32:36.2320156Z","elapsed":"00:00:00.0721292","data":"Entering policy fragment 'outbound-security-headers'"},{"source":"set-header","timestamp":"2025-01-21T04:32:36.2320156Z","elapsed":"00:00:00.0721383","data":{"message":"Specified value was assigned to the header (see below).","header":{"name":"X-Frame-Options","value":"DENY"}}},{"source":"set-header","timestamp":"2025-01-21T04:32:36.2320156Z","elapsed":"00:00:00.0721414","data":{"message":"Specified value was assigned to the header (see below).","header":{"name":"X-Content-Type-Options","value":"nosniff"}}},{"source":"set-header","timestamp":"2025-01-21T04:32:36.2320156Z","elapsed":"00:00:00.0721452","data":{"message":"Specified value was assigned to the header (see below).","header":{"name":"Referrer-Policy","value":"strict-origin-when-cross-origin"}}},{"source":"set-header","timestamp":"2025-01-21T04:32:36.2320156Z","elapsed":"00:00:00.0721545","data":{"message":"Specified value was assigned to the header (see below).","header":{"name":"Strict-Transport-Security","value":"max-age=31536000; includeSubDomains"}}},{"source":"set-header","timestamp":"2025-01-21T04:32:36.2320156Z","elapsed":"00:00:00.0721574","data":{"message":"Specified value was assigned to the header (see below).","header":{"name":"Content-Security-Policy","value":"default-src 'self' *.pacificnational.com.au; script-src 'self' *.pacificnational.com.au 'unsafe-inline' 'unsafe-eval'; style-src 'self' *.pacificnational.com.au 'unsafe-inline'; img-src 'self' *.pacificnational.com.au data:; font-src 'self' *.pacificnational.com.au data:; connect-src 'self' *.pacificnational.com.au; media-src 'self' *.pacificnational.com.au; object-src 'none'; frame-ancestors 'self';"}}},{"source":"set-header","timestamp":"2025-01-21T04:32:36.2320156Z","elapsed":"00:00:00.0721615","data":{"message":"Specified value was assigned to the header (see below).","header":{"name":"Cross-Origin-Resource-Policy","value":"same-site"}}},{"source":"set-header","timestamp":"2025-01-21T04:32:36.2320156Z","elapsed":"00:00:00.0721666","data":"Header `Server` was removed."},{"source":"set-header","timestamp":"2025-01-21T04:32:36.2320156Z","elapsed":"00:00:00.0721699","data":"Header `X-Powered-By` was removed."},{"source":"set-header","timestamp":"2025-01-21T04:32:36.2320156Z","elapsed":"00:00:00.0721723","data":"Header `X-AspNet-Version` was removed."},{"source":"include-fragment","timestamp":"2025-01-21T04:32:36.2320156Z","elapsed":"00:00:00.0721745","data":"Leaving policy fragment 'outbound-security-headers'"},{"source":"compressor","timestamp":"2025-01-21T04:32:36.2320156Z","elapsed":"00:00:00.0723375","data":"Applying content compression."},{"source":"transfer-response","timestamp":"2025-01-21T04:32:36.2320156Z","elapsed":"00:00:00.0731440","data":{"message":"Response has been sent to the caller in full"}}]}}